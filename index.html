<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Linktree — Hijau Elegan</title>
  <style>
    :root{
      --bg:#f3f7f4;
      --card:#ffffff;
      --accent-1:#0f5132; /* dark green */
      --accent-2:#1f8a5b; /* medium green */
      --accent-3:#7bd29b; /* light green */
      --muted:#6b7170;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:linear-gradient(180deg,var(--bg),#eaf3ec);display:flex;align-items:center;justify-content:center;padding:40px}

    .container{width:100%;max-width:420px}
    .card{background:var(--card);border-radius:16px;box-shadow:0 10px 30px rgba(10,20,15,0.08);overflow:hidden;text-align:center;padding:28px}

    .avatar{width:96px;height:96px;border-radius:50%;background:linear-gradient(135deg,var(--accent-2),var(--accent-3));display:inline-flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:30px;margin:0 auto 12px}
    .name{font-size:20px;font-weight:700;color:var(--accent-1);margin:6px 0}
    .bio{font-size:13px;color:var(--muted);margin:6px 0 16px}

    .links{display:flex;flex-direction:column;gap:12px;padding:6px 10px}
    .link{display:block;padding:12px 16px;border-radius:12px;background:linear-gradient(90deg,var(--accent-3),var(--accent-2));color:var(--card);text-decoration:none;font-weight:600;box-shadow:0 6px 18px rgba(31,138,91,0.12);}
    .link.small{padding:8px 12px;border-radius:10px;font-size:14px}

    .controls{display:flex;gap:8px;justify-content:center;margin-top:14px}
    .btn{padding:8px 12px;border-radius:10px;border:0;cursor:pointer;background:transparent;font-weight:600}
    .btn.primary{background:var(--accent-1);color:white}
    .btn.ghost{border:1px solid #e6ece6;color:var(--accent-1)}

    .note{font-size:12px;color:var(--muted);margin-top:12px}

    /* modal */
    .modal-backdrop{position:fixed;inset:0;background:rgba(5,8,6,0.45);display:none;align-items:center;justify-content:center}
    .modal{background:white;border-radius:12px;padding:18px;max-width:520px;width:92%;box-shadow:0 10px 40px rgba(10,20,15,0.2)}
    .modal h3{margin:0 0 8px}
    .form-row{display:flex;gap:8px;margin:8px 0}
    .form-row input{flex:1;padding:8px;border-radius:8px;border:1px solid #e6ece6}
    .form-row input[type="url"]{font-size:14px}
    .small{font-size:12px;color:var(--muted)}

    footer{margin-top:10px;font-size:12px;color:var(--muted)}

    @media (max-width:420px){body{padding:18px}}
  </style>
</head>
<body>
  <div class="container">
    <div class="card" id="card">
      <div id="avatar" class="avatar">RA</div>
      <div id="name" class="name">Nama Kamu</div>
      <div id="bio" class="bio">Deskripsi singkat — tambahkan nanti lewat tombol "Edit Profil"</div>

      <div class="links" id="links">
        <!-- Link placeholder items (user dapat tambahkan nanti) -->
      </div>

      <div class="controls">
        <button class="btn primary" id="editLinksBtn">Edit Links</button>
        <button class="btn ghost" id="editProfileBtn">Edit Profil</button>
      </div>

      <div class="note">Halaman ini dapat dibuka langsung di browser. Link dan profil disimpan di browser (localStorage).</div>
      <footer>Tip: untuk menaruh di bio Instagram, salin file ini ke hosting atau gunakan layanan GitHub Pages / Netlify.</footer>
    </div>
  </div>

  <!-- modal backdrop -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal" id="modal">
      <!-- content injected dynamically -->
    </div>
  </div>

<script>
// Simple Linktree-like editor using localStorage so kamu bisa tambah nanti tanpa ngedit file
const DEFAULT = {
  profile: { name: 'Nama Kamu', bio: 'Deskripsi singkat — tambahkan nanti lewat tombol "Edit Profil"', avatarText: 'RA' },
  links: [
    // contoh: {title:'Instagram', url:'https://instagram.com/yourname'}
  ]
}

function $(s){return document.querySelector(s)}
function save(data){localStorage.setItem('lt_data', JSON.stringify(data));}
function load(){try{return JSON.parse(localStorage.getItem('lt_data'))||DEFAULT}catch(e){return DEFAULT}}

let data = load();

function render(){
  const avatar = $('#avatar');
  const name = $('#name');
  const bio = $('#bio');
  const linksEl = $('#links');
  avatar.textContent = data.profile.avatarText || (data.profile.name||'').split(' ').map(n=>n[0]).slice(0,2).join('').toUpperCase();
  name.textContent = data.profile.name || 'Nama Kamu';
  bio.textContent = data.profile.bio || '';
  linksEl.innerHTML = '';
  if(!data.links || data.links.length === 0){
    const p = document.createElement('div'); p.className='small'; p.textContent='Belum ada tautan — klik "Edit Links" untuk menambah.'; linksEl.appendChild(p); return;
  }
  data.links.forEach((l, i)=>{
    const a = document.createElement('a'); a.className='link'; a.href = l.url || '#'; a.target='_blank'; a.rel='noopener noreferrer'; a.textContent = l.title || l.url || 'Link';
    const del = document.createElement('button'); del.textContent='✕'; del.title='Hapus'; del.style.marginLeft='8px'; del.style.float='right'; del.style.background='transparent'; del.style.border='0'; del.style.color='rgba(255,255,255,0.9)'; del.style.fontWeight='700'; del.onclick = (e)=>{ e.preventDefault(); if(confirm('Hapus tautan ini?')){ data.links.splice(i,1); save(data); render(); } };
    a.appendChild(del);
    linksEl.appendChild(a);
  })
}

function openModal(html){const mb=$('#modalBackdrop'); const modal=$('#modal'); modal.innerHTML = html; mb.style.display='flex';}
function closeModal(){$('#modalBackdrop').style.display='none'}

// Edit Links
$('#editLinksBtn').addEventListener('click', ()=>{
  const existing = data.links || [];
  let rows = existing.map((l,i)=>`<div class="form-row"><input type="text" placeholder="Judul (contoh: Instagram)" value="${escapeHtml(l.title||'')}" data-i="${i}" class="t-title"><input type="url" placeholder="URL (https://...)" value="${escapeHtml(l.url||'')}" class="t-url"></div>`).join('')
  rows += `<div id="newRows"></div>`
  const html = `
    <h3>Edit Tautan</h3>
    <div id="rows">${rows}</div>
    <div style="margin-top:8px;display:flex;gap:8px;">
      <button id="addRow" class="btn primary">Tambah Baris</button>
      <button id="saveLinks" class="btn ghost">Simpan</button>
      <button id="cancel" class="btn">Batal</button>
    </div>
    <p class="small" style="margin-top:8px">Gunakan URL lengkap (termasuk https://). Tombol ✕ pada link akan menghapus tautan saat ditampilkan.</p>
  `;
  openModal(html);
  $('#cancel').addEventListener('click', closeModal);
  $('#addRow').addEventListener('click', ()=>{
    const nr = document.createElement('div'); nr.className='form-row'; nr.innerHTML = '<input type="text" placeholder="Judul (contoh: Instagram)"><input type="url" placeholder="URL (https://...)">'; $('#rows').appendChild(nr);
  })
  $('#saveLinks').addEventListener('click', ()=>{
    const titles = Array.from(document.querySelectorAll('#rows .t-title')).map(i=>i.value.trim());
    const urls = Array.from(document.querySelectorAll('#rows .t-url')).map(i=>i.value.trim());
    // also include any new rows
    const otherRows = Array.from(document.querySelectorAll('#rows .form-row')).filter(r=>!r.querySelector('.t-title'));
    otherRows.forEach(r=>{ const ins = r.querySelectorAll('input'); if(ins.length>=2){ titles.push(ins[0].value.trim()); urls.push(ins[1].value.trim()); } })
    const newLinks = [];
    for(let i=0;i<titles.length;i++){ if(titles[i]||urls[i]) newLinks.push({title:titles[i]||urls[i], url:urls[i]||'#'}); }
    data.links = newLinks;
    save(data); render(); closeModal();
  })
})

// Edit Profile
$('#editProfileBtn').addEventListener('click', ()=>{
  const p = data.profile || {};
  const html = `
    <h3>Edit Profil</h3>
    <div class="form-row"><input id="pname" placeholder="Nama (misalnya: Rafi Ahmad)" value="${escapeHtml(p.name||'')}"></div>
    <div class="form-row"><input id="pbio" placeholder="Bio singkat" value="${escapeHtml(p.bio||'')}"></div>
    <div class="form-row"><input id="pavatar" placeholder="URL gambar profil (opsional)" value="${escapeHtml(p.avatarUrl||'')}"></div>
    <div style="margin-top:8px;display:flex;gap:8px;">
      <button id="saveProfile" class="btn primary">Simpan</button>
      <button id="cancelProfile" class="btn">Batal</button>
    </div>
    <p class="small">Atau kosongkan URL gambar, dan huruf inisial akan tampil sebagai avatar.</p>
  `;
  openModal(html);
  $('#cancelProfile').addEventListener('click', closeModal);
  $('#saveProfile').addEventListener('click', ()=>{
    const name = $('#pname').value.trim();
    const bio = $('#pbio').value.trim();
    const avatarUrl = $('#pavatar').value.trim();
    data.profile = data.profile || {};
    data.profile.name = name || 'Nama Kamu';
    data.profile.bio = bio || '';
    data.profile.avatarUrl = avatarUrl || '';
    data.profile.avatarText = avatarUrl ? '' : (name? name.split(' ').map(n=>n[0]).slice(0,2).join('').toUpperCase() : 'RA');
    // if avatarUrl provided, replace avatar element with image
    if(avatarUrl){ $('#avatar').innerHTML = '<img src="'+escapeHtml(avatarUrl)+'" alt="avatar" style="width:100%;height:100%;object-fit:cover;border-radius:50%">'; }
    save(data); render(); closeModal();
  })
})

// clicking outside modal closes it
$('#modalBackdrop').addEventListener('click', (e)=>{ if(e.target.id==='modalBackdrop') closeModal(); })

function escapeHtml(str){ if(!str) return ''; return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;'); }

// initial render
render();

</script>
</body>
</html>
